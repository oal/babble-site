title: Routing
content:
    -
        type: Section
        value:
            body: "Babble uses templates for request routing. Templates are written in Twig, and are stored inside the project's `templates` directory. Requests are routed based on the templates' file names, in one of three ways.\n"
            title: Introduction
    -
        type: Section
        value:
            title: 'Routing rules'
            body: "### Direct mapping by URL\nThis is the simplest and most straight-forward way Babble handles routing. Template files starting with a lowercase letter are rendered directly. So if you have a file called \"about.twig\", and go to \"yoursite.tld/about\", this page will be loaded.\n\n### Mapping models by record IDs\nFiles starting with an uppercase letter are mapped to models. If you have a file called \"Page.twig\", it will match all records of the `Page` model based on ID. If you have a content file `content/Page/contact.yaml`, `example.com/contact` will load this page. Inside capitalized template files, \"this\" is bound to the matching record, so you can use `{{ this.title }}` to show the contact page's title in this example.\n\n### Hidden files\nFiles starting with \"_\". These are ignored. These may be used to store the site's overall layout, and for partial templates you want to include from elsewhere. Typically you want a `_base.twig` file that contains the page's header and footer, and extend from this. See the Template documentation for more on this."
    -
        type: Section
        value:
            title: 'Routing example'
            body: "```\ncontent/\n\tPage/\n    \tindex.yaml\n        about.yaml\nmodels/\n\tPage.yaml\ntemplates/\n\t_base.twig\n    Page.twig\n    contact.twig\n\tindex.twig\n```\n\nThe above shows the file structure of a simple Babble site. First, we have a `Page` model. Inside the `content` directory, there are two `Page` records: `index` and `about`.\n\nIn the `templates` directory, we have a file called `Page.twig`. Whenever a request comes in, Babble will look for a `Page` record with whatever ID is requested (/about maps to the Page with ID \"about\").\n\nThere is one important exception to this rule, however, and that is that you can override this behavior by creating templates that have the same name as the ID of a matching record. Specifically, the example contains a template called `index.twig`, but there's also a `Page` record with the same ID. In such cases, `index.twig` wins, and gets rendered.\n\nThe `contact.twig` template will be rendered when `/contact` is requested. `_base.twig`, on the other hand, will not be reachable this way, because it is a hidden template file."
