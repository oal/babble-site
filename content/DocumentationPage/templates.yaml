title: Templates
content:
    -
        type: Section
        value:
            title: Introduction
            body: 'Templates are stored in the "templates" directory, and are written using the Twig templating language. Babble differentiates between three types of templates. Please refer to the Routing documentation for details on how URLs are mapped to templates.'
    -
        type: Section
        value:
            title: 'Available classes and variables'
            body: "In any template, you have access to a few classes and variables.\n\n### path (the `Path` class)\nThe `path` variable contains information about the current path / URL. It has the following methods:\n\n#### path.is(url)\nUsed to check if the current path matches the specified URL. This is often used to highlight the currently active link in a menu.\n\n**Example usage:**\n```twig\n<a href=\"{{ this.getAbsoluteURL() }}\" {% if path.is(this.getAbsoluteURL()) %} class=\"active\"{% endif %}>{{ page.title }}</a>\n```\n\n#### path.isExactly(url)\nSimilar to the above, except that it only returns `true` if the given URL matches the current path exactly. `path.is` also matches if it starts with the current path.\n\n#### path.getExtension()\nTemplate files may specify an extension, as in `Page.html.twig` for when you want to match routes like `about.html`. `path.getExtension()` returns this pseudo-extension. If there is no extension (`Page.twig`) an empty string is returned.\n\n### this (`Record`)\nWhen using template names that map directly to models, like if you have a model called `Page`, and a template called `Page.twig`, `this` will automatically get bound to the matching `Page` record.\n\nYou can access any of the fields of a record simply by accessing them using dot notation (like `this.title`).\n\n#### this.getAbsoluteURL()\nThis method will, based on the record's model type and your template structure, return the absolute URL where the record can be viewed. If more than one URLs match a resource, the shortest one is returned.\n\n### Models\nAny valid model can be queried, to retrieve records. If you have a `Page` model, you can do:\n\n```twig\n{% for page in Page.all() %} ... {% endfor %}\n```\n\nYou can also specify filters, ordering etc. similar to Laravel's ORM.\n\n#### Model.where(field, comparison, value)\n```js\nPost.where('is_draft', '=', false)\n```\nAvailable comparisons are:\n\n- =\n- !=\n- <\n- <=\n- >\n- >=\n\n#### Model.orderBy(field, direction)]\n```js\nPost.orderBy('published_at', 'desc')\n```\n\nThe `direction` argument can be either `asc` (ascending) or `desc` (descending)."
    -
        type: Section
        value:
            body: "\n\n\n**/templates/_base.twig**\n```twig\n<html>\n<head>\n    <title>{% block title %}{% endblock %} - {{ Site.title }}</title>\n    <link rel=\"stylesheet\" href=\"/static/main.css\">\n</head>\n<body>\n\n<header id=\"header\">\n    <h2>\n        <a href=\"/\">\n            <img src=\"/static/logo.svg\" alt=\"{{ Site.title }}\">\n        </a>\n    </h2>\n    <nav>\n        <ul>\n            {% for page in Page.all() %}\n                <li>\n                    <a href=\"{{ page.getAbsoluteURL() }}\">{{ page.title }}</a>\n                </li>\n            {% endfor %}\n        </ul>\n    </nav>\n</header>\n\n{% block body %}\n{% endblock %}\n\n<footer id=\"footer\">\n    Powered by Babble CMS.\n</footer>\n\n</body>\n</html>\n```\n\n**/templates/Page.twig**\n```twig\n{% extends '_base.twig' %}\n\n{% block title %}{{ this.title }}{% endblock %}\n\n{% block body %}\n    <div id=\"content\">\n        <h1>{{ this.title }}</h1>\n        <div>\n            {{ this.body }}\n        </div>\n    </div>\n{% endblock %}\n```"
            title: Examples
